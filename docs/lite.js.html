<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>lite.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="EventClass.html">EventClass</a><ul class='methods'><li data-type='method'><a href="EventClass.html#emit">emit</a></li><li data-type='method'><a href="EventClass.html#off">off</a></li><li data-type='method'><a href="EventClass.html#on">on</a></li><li data-type='method'><a href="EventClass.html#once">once</a></li></ul></li><li><a href="Lite.html">Lite</a><ul class='methods'><li data-type='method'><a href="Lite.html#delay">delay</a></li><li data-type='method'><a href="Lite.html#duration">duration</a></li><li data-type='method'><a href="Lite.html#easing">easing</a></li><li data-type='method'><a href="Lite.html#interpolation">interpolation</a></li><li data-type='method'><a href="Lite.html#isPlaying">isPlaying</a></li><li data-type='method'><a href="Lite.html#isStarted">isStarted</a></li><li data-type='method'><a href="Lite.html#onComplete">onComplete</a></li><li data-type='method'><a href="Lite.html#onStart">onStart</a></li><li data-type='method'><a href="Lite.html#onUpdate">onUpdate</a></li><li data-type='method'><a href="Lite.html#pause">pause</a></li><li data-type='method'><a href="Lite.html#play">play</a></li><li data-type='method'><a href="Lite.html#repeat">repeat</a></li><li data-type='method'><a href="Lite.html#reverseDelay">reverseDelay</a></li><li data-type='method'><a href="Lite.html#stop">stop</a></li><li data-type='method'><a href="Lite.html#to">to</a></li><li data-type='method'><a href="Lite.html#update">update</a></li><li data-type='method'><a href="Lite.html#yoyo">yoyo</a></li></ul></li><li><a href="Timeline.html">Timeline</a><ul class='methods'><li data-type='method'><a href="Timeline.html#add">add</a></li><li data-type='method'><a href="Timeline.html#addLabel">addLabel</a></li><li data-type='method'><a href="Timeline.html#from">from</a></li><li data-type='method'><a href="Timeline.html#fromTo">fromTo</a></li><li data-type='method'><a href="Timeline.html#to">to</a></li></ul></li><li><a href="Tween.html">Tween</a><ul class='methods'><li data-type='method'><a href="Tween.html#.from">from</a></li><li data-type='method'><a href="Tween.html#.fromTo">fromTo</a></li><li data-type='method'><a href="Tween.html#.Lite#start">Lite#start</a></li><li data-type='method'><a href="Tween.html#.to">to</a></li><li data-type='method'><a href="Tween.html#delay">delay</a></li><li data-type='method'><a href="Tween.html#duration">duration</a></li><li data-type='method'><a href="Tween.html#easing">easing</a></li><li data-type='method'><a href="Tween.html#isPlaying">isPlaying</a></li><li data-type='method'><a href="Tween.html#isStarted">isStarted</a></li><li data-type='method'><a href="Tween.html#pause">pause</a></li><li data-type='method'><a href="Tween.html#play">play</a></li><li data-type='method'><a href="Tween.html#reassignValues">reassignValues</a></li><li data-type='method'><a href="Tween.html#render">render</a></li><li data-type='method'><a href="Tween.html#repeat">repeat</a></li><li data-type='method'><a href="Tween.html#restart">restart</a></li><li data-type='method'><a href="Tween.html#reverse">reverse</a></li><li data-type='method'><a href="Tween.html#reversed">reversed</a></li><li data-type='method'><a href="Tween.html#reverseDelay">reverseDelay</a></li><li data-type='method'><a href="Tween.html#seek">seek</a></li><li data-type='method'><a href="Tween.html#start">start</a></li><li data-type='method'><a href="Tween.html#stop">stop</a></li><li data-type='method'><a href="Tween.html#to">to</a></li><li data-type='method'><a href="Tween.html#update">update</a></li><li data-type='method'><a href="Tween.html#yoyo">yoyo</a></li></ul></li><li><a href="TWEEN_.html">TWEEN</a><ul class='methods'><li data-type='method'><a href="TWEEN_.html#.add">add</a></li><li data-type='method'><a href="TWEEN_.html#.autoPlay">autoPlay</a></li><li data-type='method'><a href="TWEEN_.html#.get">get</a></li><li data-type='method'><a href="TWEEN_.html#.has">has</a></li><li data-type='method'><a href="TWEEN_.html#.isRunning">isRunning</a></li><li data-type='method'><a href="TWEEN_.html#.onTick">onTick</a></li><li data-type='method'><a href="TWEEN_.html#.remove">remove</a></li><li data-type='method'><a href="TWEEN_.html#.removeAll">removeAll</a></li><li data-type='method'><a href="TWEEN_.html#.update">update</a></li></ul></li><li><a href="TWEEN.Easing.html">Easing</a></li><li><a href="TWEEN.Interpolation.html">Interpolation</a></li><li><a href="TWEEN.Plugins.html">Plugins</a></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-Basics.html">Basics</a></li><li><a href="tutorial-Compatibility.html">Compatibility</a></li><li><a href="tutorial-Simple Demos.html">Simple Demos</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">lite.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { add, now, remove } from './core';
import Easing from './Easing';
import Interpolation from './Interpolation';
var _id = 0; // Unique ID
/**
 * Tween Lite main constructor
 * @constructor
 * @class
 * @namespace Lite
 * @param {object} object initial object
 * @example
 * import {Tween} from 'es6-tween/src/Tween.Lite'
 *
 * let tween = new Tween({x:0}).to({x:100}, 2000).start()
 */
var Lite = /** @class */ (function () {
    function Lite(object) {
        this.id = _id++;
        this.object = object;
        this._valuesStart = {};
        this._valuesEnd = null;
        this._valuesStartRepeat = {};
        this._duration = 1000;
        this._easingFunction = Easing.Linear.None;
        this._interpolationFunction = Interpolation.Linear;
        this._startTime = 0;
        this._delayTime = 0;
        this._repeat = 0;
        this._r = 0;
        this._isPlaying = false;
        this._yoyo = false;
        this._reversed = false;
        this._onStartCallbackFired = false;
        this._pausedTime = null;
        this._isFinite = true;
        /* Callbacks */
        this._onStartCallback = null;
        this._onUpdateCallback = null;
        this._onCompleteCallback = null;
        return this;
    }
    /**
     * onStart callback
     * @param {Function} callback Function should be fired after tween is started
     * @example tween.onStart(object => console.log(object))
     * @memberof Lite
     */
    Lite.prototype.onStart = function (callback) {
        this._onStartCallback = callback;
        return this;
    };
    /**
     * onUpdate callback
     * @param {Function} callback Function should be fired while tween is in progress
     * @example tween.onUpdate(object => console.log(object))
     * @memberof Lite
     */
    Lite.prototype.onUpdate = function (callback) {
        this._onUpdateCallback = callback;
        return this;
    };
    /**
     * onComplete callback
     * @param {Function} callback Function should be fired after tween is finished
     * @example tween.onComplete(object => console.log(object))
     * @memberof Lite
     */
    Lite.prototype.onComplete = function (callback) {
        this._onCompleteCallback = callback;
        return this;
    };
    /**
     * @return {boolean} State of playing of tween
     * @example tween.isPlaying() // returns `true` if tween in progress
     * @memberof Lite
     */
    Lite.prototype.isPlaying = function () {
        return this._isPlaying;
    };
    /**
     * @return {boolean} State of started of tween
     * @example tween.isStarted() // returns `true` if tween in started
     * @memberof Lite
     */
    Lite.prototype.isStarted = function () {
        return this._onStartCallbackFired;
    };
    /**
     * Pauses tween
     * @example tween.pause()
     * @memberof Lite
     */
    Lite.prototype.pause = function () {
        if (!this._isPlaying) {
            return this;
        }
        this._isPlaying = false;
        remove(this);
        this._pausedTime = now();
        return this;
    };
    /**
     * Play/Resume the tween
     * @example tween.play()
     * @memberof Lite
     */
    Lite.prototype.play = function () {
        if (this._isPlaying) {
            return this;
        }
        this._isPlaying = true;
        this._startTime += now() - this._pausedTime;
        add(this);
        this._pausedTime = now();
        return this;
    };
    /**
     * Sets tween duration
     * @param {number} amount Duration is milliseconds
     * @example tween.duration(2000)
     * @memberof Lite
     */
    Lite.prototype.duration = function (amount) {
        this._duration =
            typeof amount === 'function' ? amount(this._duration) : amount;
        return this;
    };
    /**
     * Sets target value and duration
     * @param {object} properties Target value (to value)
     * @param {number} [duration=1000] Duration of tween
     * @example new Tween({x:0}).to({x:200}, 2000)
     * @memberof Lite
     */
    Lite.prototype.to = function (properties, duration) {
        if (duration === void 0) { duration = 1000; }
        this._valuesEnd = properties;
        this._duration = duration;
        return this;
    };
    /**
     * Start the tweening
     * @param {number|string} time setting manual time instead of Current browser timestamp or like `+1000` relative to current timestamp
     * @example tween.start()
     * @memberof Tween
     */
    Lite.prototype.start = function (time) {
        this._startTime =
            time !== undefined
                ? typeof time === 'string' ? now() + parseFloat(time) : time
                : now();
        this._startTime += this._delayTime;
        var _a = this, _valuesEnd = _a._valuesEnd, _valuesStartRepeat = _a._valuesStartRepeat, _valuesStart = _a._valuesStart, _interpolationFunction = _a._interpolationFunction, object = _a.object;
        var _loop_1 = function (property) {
            var start = object[property];
            var end = _valuesEnd[property];
            if (!object || object[property] === undefined) {
                return "continue";
            }
            var obj = object[property];
            if (typeof start === 'number') {
                if (typeof end === 'string') {
                    _valuesStartRepeat[property] = end;
                    end = start + parseFloat(end);
                }
                else if (Array.isArray(end)) {
                    end.unshift(start);
                    var _endArr_1 = end;
                    end = function (t) {
                        return _interpolationFunction(_endArr_1, t);
                    };
                }
            }
            else if (typeof end === 'object') {
                if (Array.isArray(end)) {
                    var _endArr_2 = end;
                    var _start_1 = start.map(function (item) { return item; });
                    var i_1;
                    var len_1 = end.length;
                    end = function (t) {
                        i_1 = 0;
                        for (; i_1 &lt; len_1; i_1++) {
                            obj[i_1] =
                                typeof _start_1[i_1] === 'number'
                                    ? _start_1[i_1] + (_endArr_2[i_1] - _start_1[i_1]) * t
                                    : _endArr_2[i_1];
                        }
                        return obj;
                    };
                }
                else {
                    var _endObj_1 = end;
                    var _start_2 = {};
                    for (var p in start) {
                        _start_2[p] = start[p];
                    }
                    end = function (t) {
                        for (var i in end) {
                            obj[i] =
                                typeof _start_2[i] === 'number'
                                    ? _start_2[i] + (_endObj_1[i] - _start_2[i]) * t
                                    : _endObj_1[i];
                        }
                        return obj;
                    };
                }
            }
            _valuesStart[property] = start;
            _valuesEnd[property] = end;
        };
        for (var property in _valuesEnd) {
            _loop_1(property);
        }
        this._isPlaying = true;
        this._reversed = false;
        this._onStartCallbackFired = false;
        add(this);
        return this;
    };
    /**
     * Stops the tween
     * @example tween.stop()
     * @memberof Lite
     */
    Lite.prototype.stop = function () {
        var _a = this, _isPlaying = _a._isPlaying, _isFinite = _a._isFinite, object = _a.object, _startTime = _a._startTime, _delayTime = _a._delayTime, _duration = _a._duration, _r = _a._r;
        if (!_isPlaying || !_isFinite) {
            return this;
        }
        var atEnd = (_r + 1) % 2 === 1;
        this._reversed = false;
        if (atEnd) {
            this.update(_startTime + _duration);
        }
        else {
            this.update(_startTime);
        }
        remove(this);
        return this;
    };
    /**
     * Set delay of tween
     * @param {number} amount Sets tween delay / wait duration
     * @example tween.delay(500)
     * @memberof Lite
     */
    Lite.prototype.delay = function (amount) {
        this._delayTime =
            typeof amount === 'function' ? amount(this._delayTime) : amount;
        return this;
    };
    /**
     * Sets how times tween is repeating
     * @param {amount} amount the times of repeat
     * @example tween.repeat(2)
     * @memberof Lite
     */
    Lite.prototype.repeat = function (amount) {
        this._repeat = typeof amount === 'function' ? amount(this._repeat) : amount;
        this._r = this._repeat;
        this._isFinite = isFinite(amount);
        return this;
    };
    /**
     * Set delay of each repeat alternate of tween
     * @param {number} amount Sets tween repeat alternate delay / repeat alternate wait duration
     * @example tween.reverseDelay(500)
     * @memberof Lite
     */
    Lite.prototype.reverseDelay = function (amount) {
        this._reverseDelayTime =
            typeof amount === 'function' ? amount(this._reverseDelayTime) : amount;
        return this;
    };
    /**
     * Set `yoyo` state (enables reverse in repeat)
     * @param {boolean} state Enables alternate direction for repeat
     * @example tween.yoyo(true)
     * @memberof Lite
     */
    Lite.prototype.yoyo = function (state) {
        this._yoyo = typeof state === 'function' ? state(this._yoyo) : state;
        if (!state) {
            this._reversed = false;
        }
        return this;
    };
    /**
     * Set easing
     * @param {Function} _easingFunction Easing function
     * @example tween.easing(Easing.Quadratic.InOut)
     * @memberof Lite
     */
    Lite.prototype.easing = function (fn) {
        if (typeof fn === 'function') {
            this._easingFunction = fn;
        }
        return this;
    };
    /**
     * Set interpolation
     * @param {Function} _interpolationFunction Interpolation function
     * @example tween.interpolation(Interpolation.Bezier)
     * @memberof Lite
     */
    Lite.prototype.interpolation = function (_interpolationFunction) {
        if (typeof _interpolationFunction === 'function') {
            this._interpolationFunction = _interpolationFunction;
        }
        return this;
    };
    /**
     * Updates initial object to target value by given `time`
     * @param {Time} time Current time
     * @param {boolean=} preserve Prevents from removing tween from store
     * @example tween.update(500)
     * @memberof Lite
     */
    Lite.prototype.update = function (time, preserve) {
        var _a = this, _onStartCallbackFired = _a._onStartCallbackFired, _easingFunction = _a._easingFunction, _repeat = _a._repeat, _delayTime = _a._delayTime, _reverseDelayTime = _a._reverseDelayTime, _yoyo = _a._yoyo, _reversed = _a._reversed, _startTime = _a._startTime, _duration = _a._duration, _valuesStart = _a._valuesStart, _valuesEnd = _a._valuesEnd, _valuesStartRepeat = _a._valuesStartRepeat, object = _a.object, _isFinite = _a._isFinite, _isPlaying = _a._isPlaying, _onStartCallback = _a._onStartCallback, _onUpdateCallback = _a._onUpdateCallback, _onCompleteCallback = _a._onCompleteCallback;
        var elapsed;
        var value;
        var property;
        time = time !== undefined ? time : now();
        if (!_isPlaying || time &lt; _startTime) {
            return true;
        }
        if (!_onStartCallbackFired) {
            if (_onStartCallback) {
                _onStartCallback(object);
            }
            this._onStartCallbackFired = true;
        }
        elapsed = (time - _startTime) / _duration;
        elapsed = elapsed > 1 ? 1 : elapsed;
        elapsed = _reversed ? 1 - elapsed : elapsed;
        value = _easingFunction(elapsed);
        for (property in _valuesEnd) {
            var start = _valuesStart[property];
            var end = _valuesEnd[property];
            if (start === undefined) {
                continue;
            }
            else if (typeof end === 'function') {
                object[property] = end(value);
            }
            else if (typeof end === 'number') {
                object[property] = start + (end - start) * value;
            }
        }
        if (_onUpdateCallback) {
            _onUpdateCallback(object, elapsed);
        }
        if (elapsed === 1 || (_reversed &amp;&amp; elapsed === 0)) {
            if (_repeat) {
                if (_isFinite) {
                    this._repeat--;
                }
                if (!_reversed) {
                    for (property in _valuesStartRepeat) {
                        _valuesStart[property] = _valuesEnd[property];
                        _valuesEnd[property] += parseFloat(_valuesStartRepeat[property]);
                    }
                }
                if (_yoyo) {
                    this._reversed = !_reversed;
                }
                if (_reversed &amp;&amp; _reverseDelayTime) {
                    this._startTime = time + _reverseDelayTime;
                }
                else {
                    this._startTime = time + _delayTime;
                }
                return true;
            }
            else {
                if (!preserve) {
                    this._isPlaying = false;
                    remove(this);
                }
                if (_onCompleteCallback) {
                    _onCompleteCallback();
                }
                this._repeat = this._r;
                _id--;
                return false;
            }
        }
        return true;
    };
    return Lite;
}());
export default Lite;
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Tue Sep 26 2017 08:52:52 GMT+0500 (Западная Азия (зима)) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
